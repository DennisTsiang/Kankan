<div class="container-fluid">
  <div class="row">
    <div class="col-xs-3"></div>
    <div class="col-xs-6 button-centered">
      <h2 class="username-title">Welcome {{username}}</h2>

      <div ng-controller="NewProjectPopoverCtrl">
        <button popover-placement="right" uib-popover-template="dynamicPopover.templateUrl" popover-is-open="isOpen" ng-click="isOpen = true" type="button" class="btn btn-primary">Create New Project</button>
      </div>
      <br />
      <button type="button" class="btn btn-info" ng-click="logOut()">Log Out</button>
    </div>
    <div class="col-xs-3"></div>
  </div>

  <div class="Project_overviews">

    <div class="row">

      <div class="col-sm-2">
        <h2>Project </h2></div>
      <div class="col-sm-2">
        <h2>Members</h2></div>
      <div class="col-sm-6">
        <h2>Upcoming Deadlines</h2></div>
      <div class="col-sm-2">
        <h2>Summary</h2></div>

    </div>

    <div class="row" ng-repeat="project in projects">

      <div class="col-sm-2">
        <div class="btn-group btn-flex button-centered" ng-controller="AddUsersCtrl as $ctrl">
          <button type="button" class="btn btn-default" ng-click="chooseProject(project.project_id)">

                                {{project.title}}
                              </button>
          <button type="button" class="btn btn-default dropdown-toggle btn-lg" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
          <ul class="dropdown-menu pull-right">
            <li><a ng-click="$ctrl.open('sm', project)">Add Users</a></li>
            <li><a ng-click="deleteProject(project.project_id)">Delete Project</a></li>
          </ul>
        </div>

      </div>
      <div class="col-sm-2">
        <div class="projmembers" ng-repeat="member in project.members">
          <h3>{{member}}</h3></div>
      </div>
      <div class="col-sm-6">
        <div class="row">

          <div class="col-sm-4">
            <h3>{{project.upcomingDeadlines[0].desc}}</h3>
            <h4>{{project.upcomingDeadlines[0].isTimeLeft}} {{project.upcomingDeadlines[0].timeLeftFormatted}} {{project.upcomingDeadlines[0].timeFormatter}}</h4></div>
          <div class="col-sm-4"></div>
          <div class="col-sm-4"></div>



        </div>
      </div>
      <div class="col-sm-2">Palceholder</div>

    </div>

  </div>

</div>

<script type="text/ng-template" id="NewProjectPopover.html">
  <form class="form-group button-centered">
    <label>Enter Your New Project Title:</label>
    <input type="text" placeholder="Title" ng-model="projectName" class="form-control username">
    <br />
    <label>Enter Your Project Repository URL:</label>
    <input type="text" placeholder="URL" ng-model="repoUrl" class="form-control username">
    <br />
    <button type="submit" class="btn btn-primary" ng-click="newProject(projectName, repoUrl)">Create</button>
  </form>
</script>

<script type="text/ng-template" id="AddUsersModal.html">
  <div class="modal-header center-align-text">
    <h4 class="modal-title" id="modal-title">Add users to {{$ctrl.title}}</h4>
  </div>
  <form class="form-group center-align-text">
    <label for="usr">User</label>
    <input type="text" class="form-control username" placeholder="Username" id="usr" ng-model="username">
    <br />
    <button type=submit class="btn btn-default" ng-click="$ctrl.addUser(username)">Add</button>
  </form>
  <div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>
  </div>
</script>
